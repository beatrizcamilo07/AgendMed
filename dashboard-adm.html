<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="public/css/dashboard-adm.css">
  <title>Dashboard Administrador - AgendMed</title>
</head>

<body>
  <div class="container"> 
    <!-- Cabeçalho (Header) -->
    <header class="header">
      <div class="logo">
        <img src="assets/img/estetoscópio-agendmed.png" alt="estetoscópio AgendMed">
        <span>AgendMed</span>
      </div>
      <nav class="menu">
        <a href="dashboard-adm.php"><img src="assets/img/house.png" alt="House"> Início</a>
        <a href="perfil.html"><img src="assets/img/u  AR53ZCXZ\.png" alt="User"> Perfil</a>
        <a href="notificacao.html"><img src="assets/img/notification.png" alt="notification"> Notificação</a>
        <a href="servicos.html"><img src="assets/img/folder (2).png" alt="Folder"> Serviços</a>
        <a href="sobre-nos.html"><img src="assets/img/about us.png" alt="Sobre nós"> Sobre nós</a>
        <a href="ajuda.html"><img src="assets/img/help.png" alt="Ajuda"> Ajuda</a>
        <a href="api/usuarios/logout.php"><img src="assets/img/exit.png" alt="Sair"> Sair</a>
      </nav>
    </header> 

    <!-- Conteúdo Principal -->
    <main class="main">
      <!-- Banner de Saudação COMPLETO E CORRIGIDO -->
      <section class="banner">
        <div class="greeting-banner">
          <h2>Olá, <?php echo $nome_admin; ?> (Admin)</h2>
          <p>Aqui você pode gerenciar agendamentos e serviços da clínica</p>
        </div>
      </section>

      <!-- Área dos Cards: Agendamentos + Formulário -->
      <section class="cards-container">
        <!-- Card de Consultas agendadas -->
        <div class="card consultas-marcadas">
          <div class="form-header">
            <h2>Consultas Agendadas</h2>
          </div>
          <table>
            <thead>
              <tr>
                <th>Paciente</th>
                <th>Data</th>
                <th>Hora</th>
                <th>Especialidade</th>
                <th>Status</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tbody-agendamentos">
              <tr><td colspan="6">Carregando agendamentos...</td></tr>
            </tbody>
          </table>
        </div>

        <!-- Card do Formulário de marcar/editar consulta -->
        <div class="card formAgendamento">
          <div class="form-header">
            <h2 id="form-agendamento-titulo">Marcar Consulta</h2>
          </div>
          <form id="form-agendamento-admin">
            <input type="hidden" id="edit-id-agendamento" name="id_agendamento">
            <div class="input-group">
              <div class="input-box">
                <label for="paciente">Nome do Paciente</label>
                <select id="paciente" name="id_paciente" required>
                  <option value="">Carregando...</option>
                </select>
              </div>
              <div class="input-box">
                <label for="especialidade">Especialidade</label>
                <select id="especialidade" name="id_medico" required>
                  <option value="">Carregando...</option>
                </select>
              </div>
              <div class="input-box">
                <label for="data">Data</label>
                <input type="date" id="data" name="data" required>
              </div>
              <div class="input-box">
                <label for="hora">Hora</label>
                <input type="time" id="hora" name="hora" required>
              </div>
              <div class="input-box" id="status-box" style="display: none;">
                <label for="status">Status</label>
                <select id="status" name="status">
                  <option value="confirmado">Agendado</option>
                  <option value="cancelado">Cancelado</option>
                </select>
              </div>
            </div>
            <div class="continue-button">
              <button type="submit" id="btn-submit-agendamento">Agendar</button>
              <button type="button" id="btn-cancelar-edicao-agendamento" class="cancel-btn" style="display: none;">Cancelar Edição</button>
            </div>
          </form>
        </div>
      </section>

      <!-- Área de Gerenciar Serviços -->
      <section class="servicos-container">
        <div class="card">
          <div class="form-header">
            <h2 id="form-servico-titulo">Gerenciar Serviços (Especialidades)</h2>
          </div>
          <form id="formServico">
            <input type="hidden" id="edit-id-servico" name="id">
            <div class="input-group">
              <div class="input-box">
                <label for="nomeServico">Nome do Serviço</label>
                <input type="text" id="nomeServico" name="nome_servico" placeholder="Ex: Cardiologia" required>
              </div>
              <div class="input-box">
                <label for="descricaoServico">Descrição</label>
                <input type="text" id="descricaoServico" name="descricao" placeholder="Digite uma breve descrição">
              </div>
            </div>
            <div class="continue-button">
              <button type="submit" id="btn-submit-servico">Cadastrar Serviço</button>
              <button type="button" id="btn-cancelar-edicao-servico" class="cancel-btn" style="display: none;">Cancelar Edição</button>
            </div>
          </form>
          <hr style="margin: 20px 0; border: 1px solid #eee;">
          <table>
            <thead>
              <tr>
                <th>Serviço</th>
                <th>Descrição</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="listaServicos">
              <tr><td colspan="3">Carregando serviços...</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>
  <script src="javascript/script-adm.js"></script>
</body>
</html>